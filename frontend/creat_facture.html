<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>MKC - Générateur de Facture</title>
    <link rel="stylesheet" href="creat_facture.css">
    <style>
        /* Make the top-level back button orange to match admin theme */
        .btn-back-page {
            background: #f59e0b;
            color: #ffffff;
            border: 1px solid #f59e0b;
            padding: 6px 10px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
        }
        .btn-back-page:hover {
            filter: brightness(0.95);
        }
    </style>
</head>

<body>
    <div class="admin-panel no-print">
            <div class="admin-header">
            <h2>Gestion Maritime Kargo Consulting</h2>
            <div style="display:flex; gap:8px; align-items:center; margin-left:auto;">
                <button id="btn-back-page" class="btn-back-page" title="Retour">← Retour</button>
                <button id="previewBtn" class="btn-primary">Aperçu de la Facture</button>
            </div>
        </div>
        <div style="margin-top:6px; margin-left:8px;">
             <span id="invoice-ref"></span>
        </div>

        <div class="form-grid">
            <input type="text" id="clientName" placeholder="Nom du Client">
            <select id="origine" class="select-origine" aria-label="Origine de la marchandise">
                <option value="" disabled selected>Origine de la marchandise</option>
                <option value="Afrique">Afrique</option>
                <option value="Antarctique">Antarctique</option>
                <option value="Asie">Asie</option>
                <option value="Europe">Europe</option>
                <option value="Amérique">Amérique</option>
                <option value="Océanie">Océanie</option>
            </select>
            <input type="text" id="objetRef" placeholder="Référence BL Principal">
            <div style="display:flex; flex-direction:column; gap:6px;">
                <label for="serviceFixed" style="font-size:12px; font-weight:600; margin-bottom:4px;">Frais de service (XAF)</label>
                <input type="number" id="serviceFixed" step="1" value="0" style="width:160px;" aria-label="Montant fixe des frais de service en XAF">
            </div>
        </div>

        <table id="editTable">
            <thead>
                <tr>
                    <th>Description</th>
                    <th>N° BL</th>
                    <th>Cond.</th>
                    <th>PU (XAF)</th>
                    <th>Qté</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <tr class="item-row">
                    <td>
                        <select class="in-desc">
                            <option value="" disabled selected>Choisir...</option>
                            <option value="FERI">FERI</option>
                            <option value="AD">AD</option>
                            <option value="FERI+AD">FERI + AD</option>
                            
                        </select>
                    </td>
                    <td><input type="text" class="in-bl" placeholder="N° BL"></td>
                    <td><input type="text" class="in-cond" placeholder="Vrac/Conteneur"></td>
                    <td><input type="number" class="in-pu" placeholder="Prix en XAF"></td>
                    <td><input type="number" class="in-qty" placeholder="Quantité"></td>
                    <td><button class="btn-del">×</button></td>
                </tr>
            </tbody>
        </table>
        <button id="addBtn" class="btn-secondary">+ Ligne supplémentaire</button>
    </div>

    <div id="previewModal" class="modal">
        <div class="modal-content">
            <div class="modal-nav no-print">
                <button id="backBtn" class="btn-back">← Éditer</button>
                <div class="nav-right">
                    <button id="sendBtn" class="btn-send">✉ Envoyer</button>
                    <button id="printBtn" class="btn-print">⎙ Imprimer</button>
                </div>
            </div>

            <div id="invoiceRender" class="a4-page">
            </div>
        </div>
    </div>

    <script src="creat_facture.js"></script>
</body>

</html>